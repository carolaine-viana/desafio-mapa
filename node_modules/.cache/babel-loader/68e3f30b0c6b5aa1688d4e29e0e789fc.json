{"ast":null,"code":"import axios from \"axios\";\nimport { BASE_URL } from \"../Constants/BASE_URL\";\nexport const handleIncident = async setDataIncidents => {\n  axios.get(`${BASE_URL}/Incidents`).then(res => {\n    setDataIncidents(res.data);\n  }).catch(error => {\n    alert(\"deu erro\");\n    console.log(error.response);\n  });\n};\nexport const handleControlers = async setDataControlers => {\n  axios.get(`${BASE_URL}/Controllers`).then(res => {\n    alert(\"ok\");\n    setDataControlers(res.data);\n  }).catch(error => {\n    alert(\"deu erro\");\n    console.log(error.response);\n  });\n};\nexport const chart = setChartData => {\n  let qntd = [];\n  let legenda = [];\n  axios.get(`${BASE_URL}/Incidents`).then(res => {\n    for (const dataObj of res.data) {\n      qntd.push(parseInt(dataObj.category.length));\n      console.log(dataObj.category.length);\n      legenda.push(dataObj.category);\n      console.log(dataObj.category);\n\n      if (dataObj.category === \"CONTROLLER\") {\n        const controladorFuncionando = dataObj.category.length;\n        console.log('controlador quantidade', dataObj.category.length);\n      }\n\n      if (dataObj.category === \"ALERT\") {\n        console.log('CONTROLADOR EM FALHA', dataObj.category.length);\n      }\n\n      if (dataObj.category === \"ACCIDENT\") {\n        console.log('INTERMIDENTE', dataObj.category.length);\n      }\n    }\n\n    setChartData({\n      labels: legenda,\n      datasets: [{\n        data: qntd,\n        backgroundColor: [\"rgba(100, 192, 192, 0.6)\"],\n        borderWidth: 3\n      }]\n    });\n  }).catch(err => {\n    console.log(err);\n  });\n  console.log(qntd, legenda);\n};","map":{"version":3,"sources":["/Users/carolaine.viana/Documents/react-leaflet-tutorial/src/requests/user.js"],"names":["axios","BASE_URL","handleIncident","setDataIncidents","get","then","res","data","catch","error","alert","console","log","response","handleControlers","setDataControlers","chart","setChartData","qntd","legenda","dataObj","push","parseInt","category","length","controladorFuncionando","labels","datasets","backgroundColor","borderWidth","err"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,uBAAzB;AAEA,OAAO,MAAMC,cAAc,GAAG,MAAOC,gBAAP,IAA4B;AACtDH,EAAAA,KAAK,CACFI,GADH,CACQ,GAAEH,QAAS,YADnB,EAEGI,IAFH,CAESC,GAAD,IAAS;AACbH,IAAAA,gBAAgB,CAACG,GAAG,CAACC,IAAL,CAAhB;AACD,GAJH,EAKGC,KALH,CAKUC,KAAD,IAAW;AAChBC,IAAAA,KAAK,CAAC,UAAD,CAAL;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,KAAK,CAACI,QAAlB;AACD,GARH;AASD,CAVI;AAYL,OAAO,MAAMC,gBAAgB,GAAG,MAAOC,iBAAP,IAA6B;AAC3Df,EAAAA,KAAK,CACFI,GADH,CACQ,GAAEH,QAAS,cADnB,EAEGI,IAFH,CAESC,GAAD,IAAS;AACbI,IAAAA,KAAK,CAAC,IAAD,CAAL;AACAK,IAAAA,iBAAiB,CAACT,GAAG,CAACC,IAAL,CAAjB;AACD,GALH,EAMGC,KANH,CAMUC,KAAD,IAAW;AAChBC,IAAAA,KAAK,CAAC,UAAD,CAAL;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,KAAK,CAACI,QAAlB;AACD,GATH;AAUD,CAXM;AAaP,OAAO,MAAMG,KAAK,GAAIC,YAAD,IAAkB;AACrC,MAAIC,IAAI,GAAG,EAAX;AACA,MAAIC,OAAO,GAAG,EAAd;AACAnB,EAAAA,KAAK,CACFI,GADH,CACQ,GAAEH,QAAS,YADnB,EAEGI,IAFH,CAESC,GAAD,IAAS;AACb,SAAK,MAAMc,OAAX,IAAsBd,GAAG,CAACC,IAA1B,EAAgC;AAC9BW,MAAAA,IAAI,CAACG,IAAL,CAAUC,QAAQ,CAACF,OAAO,CAACG,QAAR,CAAiBC,MAAlB,CAAlB;AACAb,MAAAA,OAAO,CAACC,GAAR,CAAYQ,OAAO,CAACG,QAAR,CAAiBC,MAA7B;AACAL,MAAAA,OAAO,CAACE,IAAR,CAAaD,OAAO,CAACG,QAArB;AACAZ,MAAAA,OAAO,CAACC,GAAR,CAAYQ,OAAO,CAACG,QAApB;;AACA,UAAGH,OAAO,CAACG,QAAR,KAAmB,YAAtB,EAAmC;AACjC,cAAME,sBAAsB,GAAGL,OAAO,CAACG,QAAR,CAAiBC,MAAhD;AACAb,QAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCQ,OAAO,CAACG,QAAR,CAAiBC,MAAvD;AACD;;AACD,UAAGJ,OAAO,CAACG,QAAR,KAAmB,OAAtB,EAA8B;AAC5BZ,QAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCQ,OAAO,CAACG,QAAR,CAAiBC,MAArD;AACD;;AACD,UAAGJ,OAAO,CAACG,QAAR,KAAmB,UAAtB,EAAiC;AAC/BZ,QAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BQ,OAAO,CAACG,QAAR,CAAiBC,MAA7C;AACD;AACF;;AACDP,IAAAA,YAAY,CAAC;AACXS,MAAAA,MAAM,EAAEP,OADG;AAEXQ,MAAAA,QAAQ,EAAE,CACR;AACEpB,QAAAA,IAAI,EAAEW,IADR;AAEEU,QAAAA,eAAe,EAAE,CAAC,0BAAD,CAFnB;AAGEC,QAAAA,WAAW,EAAE;AAHf,OADQ;AAFC,KAAD,CAAZ;AAUD,GA7BH,EA8BGrB,KA9BH,CA8BUsB,GAAD,IAAS;AACdnB,IAAAA,OAAO,CAACC,GAAR,CAAYkB,GAAZ;AACD,GAhCH;AAiCAnB,EAAAA,OAAO,CAACC,GAAR,CAAYM,IAAZ,EAAkBC,OAAlB;AACD,CArCM","sourcesContent":["import axios from \"axios\";\nimport { BASE_URL } from \"../Constants/BASE_URL\";\n\nexport const handleIncident = async (setDataIncidents) => {\n    axios\n      .get(`${BASE_URL}/Incidents`)\n      .then((res) => {\n        setDataIncidents(res.data);\n      })\n      .catch((error) => {\n        alert(\"deu erro\");\n        console.log(error.response);\n      })\n  }\n  \n  export const handleControlers = async (setDataControlers) => {\n    axios\n      .get(`${BASE_URL}/Controllers`)\n      .then((res) => {\n        alert(\"ok\");\n        setDataControlers(res.data);\n      })\n      .catch((error) => {\n        alert(\"deu erro\");\n        console.log(error.response);\n      });\n  };\n  \n  export const chart = (setChartData) => {\n    let qntd = [];\n    let legenda = [];\n    axios\n      .get(`${BASE_URL}/Incidents`)\n      .then((res) => {\n        for (const dataObj of res.data) {\n          qntd.push(parseInt(dataObj.category.length));\n          console.log(dataObj.category.length)\n          legenda.push(dataObj.category);\n          console.log(dataObj.category)\n          if(dataObj.category===\"CONTROLLER\"){\n            const controladorFuncionando = dataObj.category.length\n            console.log('controlador quantidade', dataObj.category.length)\n          }\n          if(dataObj.category===\"ALERT\"){\n            console.log('CONTROLADOR EM FALHA', dataObj.category.length)\n          }\n          if(dataObj.category===\"ACCIDENT\"){\n            console.log('INTERMIDENTE', dataObj.category.length)\n          }\n        }\n        setChartData({\n          labels: legenda,\n          datasets: [\n            {\n              data: qntd,\n              backgroundColor: [\"rgba(100, 192, 192, 0.6)\"],\n              borderWidth: 3,\n            },\n          ],\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    console.log(qntd, legenda);\n  };\n"]},"metadata":{},"sourceType":"module"}