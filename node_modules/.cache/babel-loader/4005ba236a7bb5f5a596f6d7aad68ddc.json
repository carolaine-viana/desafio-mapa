{"ast":null,"code":"import axios from \"axios\";\nimport { BASE_URL } from \"../Constants/BASE_URL\";\nexport const handleIncident = async setDataIncidents => {\n  axios.get(`${BASE_URL}/Incidents`).then(res => {\n    setDataIncidents(res.data);\n  }).catch(error => {\n    alert(\"deu erro\");\n    console.log(error.response);\n  });\n};\nexport const handleControlers = async setDataControlers => {\n  axios.get(`${BASE_URL}/Controllers`).then(res => {\n    alert(\"ok\");\n    setDataControlers(res.data);\n  }).catch(error => {\n    alert(\"deu erro\");\n    console.log(error.response);\n  });\n};\nexport const chart = setChartData => {\n  let qntd = [];\n  let legenda = [];\n  let controladorFuncionando = 0;\n  axios.get(`${BASE_URL}/Incidents`).then(res => {\n    for (const dataObj of res.data) {\n      qntd.push(parseInt(dataObj.category.length));\n      console.log(dataObj.category.length);\n      legenda.push(dataObj.category);\n      console.log(dataObj.category);\n\n      if (dataObj.category === \"CONTROLLER\") {\n        controladorFuncionando = dataObj.category.length;\n        console.log('controlador quantidade', dataObj.category.length);\n      }\n\n      if (dataObj.category === \"ALERT\") {\n        const falhas = dataObj.category.length;\n        console.log('CONTROLADOR EM FALHA', dataObj.category.length);\n      }\n\n      if (dataObj.category === \"ACCIDENT\") {\n        const inter = dataObj.category.length;\n        console.log('INTERMIDENTE', dataObj.category.length);\n      }\n    }\n\n    setChartData({\n      labels: legenda,\n      controladorFuncionando,\n      datasets: [{\n        data: qntd,\n        controladorFuncionando,\n        backgroundColor: [\"rgba(100, 192, 192, 0.6)\"],\n        borderWidth: 3\n      }]\n    });\n  }).catch(err => {\n    console.log(err);\n  });\n  console.log(qntd, legenda);\n};","map":{"version":3,"sources":["/Users/carolaine.viana/Documents/react-leaflet-tutorial/src/requests/user.js"],"names":["axios","BASE_URL","handleIncident","setDataIncidents","get","then","res","data","catch","error","alert","console","log","response","handleControlers","setDataControlers","chart","setChartData","qntd","legenda","controladorFuncionando","dataObj","push","parseInt","category","length","falhas","inter","labels","datasets","backgroundColor","borderWidth","err"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,uBAAzB;AAEA,OAAO,MAAMC,cAAc,GAAG,MAAOC,gBAAP,IAA4B;AACtDH,EAAAA,KAAK,CACFI,GADH,CACQ,GAAEH,QAAS,YADnB,EAEGI,IAFH,CAESC,GAAD,IAAS;AACbH,IAAAA,gBAAgB,CAACG,GAAG,CAACC,IAAL,CAAhB;AACD,GAJH,EAKGC,KALH,CAKUC,KAAD,IAAW;AAChBC,IAAAA,KAAK,CAAC,UAAD,CAAL;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,KAAK,CAACI,QAAlB;AACD,GARH;AASD,CAVI;AAYL,OAAO,MAAMC,gBAAgB,GAAG,MAAOC,iBAAP,IAA6B;AAC3Df,EAAAA,KAAK,CACFI,GADH,CACQ,GAAEH,QAAS,cADnB,EAEGI,IAFH,CAESC,GAAD,IAAS;AACbI,IAAAA,KAAK,CAAC,IAAD,CAAL;AACAK,IAAAA,iBAAiB,CAACT,GAAG,CAACC,IAAL,CAAjB;AACD,GALH,EAMGC,KANH,CAMUC,KAAD,IAAW;AAChBC,IAAAA,KAAK,CAAC,UAAD,CAAL;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,KAAK,CAACI,QAAlB;AACD,GATH;AAUD,CAXM;AAaP,OAAO,MAAMG,KAAK,GAAIC,YAAD,IAAkB;AACrC,MAAIC,IAAI,GAAG,EAAX;AACA,MAAIC,OAAO,GAAG,EAAd;AACA,MAAIC,sBAAsB,GAAG,CAA7B;AACApB,EAAAA,KAAK,CACFI,GADH,CACQ,GAAEH,QAAS,YADnB,EAEGI,IAFH,CAESC,GAAD,IAAS;AACb,SAAK,MAAMe,OAAX,IAAsBf,GAAG,CAACC,IAA1B,EAAgC;AAC9BW,MAAAA,IAAI,CAACI,IAAL,CAAUC,QAAQ,CAACF,OAAO,CAACG,QAAR,CAAiBC,MAAlB,CAAlB;AACAd,MAAAA,OAAO,CAACC,GAAR,CAAYS,OAAO,CAACG,QAAR,CAAiBC,MAA7B;AACAN,MAAAA,OAAO,CAACG,IAAR,CAAaD,OAAO,CAACG,QAArB;AACAb,MAAAA,OAAO,CAACC,GAAR,CAAYS,OAAO,CAACG,QAApB;;AACA,UAAGH,OAAO,CAACG,QAAR,KAAmB,YAAtB,EAAmC;AACjCJ,QAAAA,sBAAsB,GAAGC,OAAO,CAACG,QAAR,CAAiBC,MAA1C;AACAd,QAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCS,OAAO,CAACG,QAAR,CAAiBC,MAAvD;AACD;;AACD,UAAGJ,OAAO,CAACG,QAAR,KAAmB,OAAtB,EAA8B;AAC5B,cAAME,MAAM,GAAGL,OAAO,CAACG,QAAR,CAAiBC,MAAhC;AACAd,QAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCS,OAAO,CAACG,QAAR,CAAiBC,MAArD;AACD;;AACD,UAAGJ,OAAO,CAACG,QAAR,KAAmB,UAAtB,EAAiC;AAC/B,cAAMG,KAAK,GAAGN,OAAO,CAACG,QAAR,CAAiBC,MAA/B;AACAd,QAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BS,OAAO,CAACG,QAAR,CAAiBC,MAA7C;AACD;AACF;;AACDR,IAAAA,YAAY,CAAC;AACXW,MAAAA,MAAM,EAAET,OADG;AACMC,MAAAA,sBADN;AAEXS,MAAAA,QAAQ,EAAE,CACR;AACEtB,QAAAA,IAAI,EAAEW,IADR;AACcE,QAAAA,sBADd;AAEEU,QAAAA,eAAe,EAAE,CAAC,0BAAD,CAFnB;AAGEC,QAAAA,WAAW,EAAE;AAHf,OADQ;AAFC,KAAD,CAAZ;AAUD,GA/BH,EAgCGvB,KAhCH,CAgCUwB,GAAD,IAAS;AACdrB,IAAAA,OAAO,CAACC,GAAR,CAAYoB,GAAZ;AACD,GAlCH;AAmCArB,EAAAA,OAAO,CAACC,GAAR,CAAYM,IAAZ,EAAkBC,OAAlB;AACD,CAxCM","sourcesContent":["import axios from \"axios\";\nimport { BASE_URL } from \"../Constants/BASE_URL\";\n\nexport const handleIncident = async (setDataIncidents) => {\n    axios\n      .get(`${BASE_URL}/Incidents`)\n      .then((res) => {\n        setDataIncidents(res.data);\n      })\n      .catch((error) => {\n        alert(\"deu erro\");\n        console.log(error.response);\n      })\n  }\n  \n  export const handleControlers = async (setDataControlers) => {\n    axios\n      .get(`${BASE_URL}/Controllers`)\n      .then((res) => {\n        alert(\"ok\");\n        setDataControlers(res.data);\n      })\n      .catch((error) => {\n        alert(\"deu erro\");\n        console.log(error.response);\n      });\n  };\n  \n  export const chart = (setChartData) => {\n    let qntd = [];\n    let legenda = [];\n    let controladorFuncionando = 0\n    axios\n      .get(`${BASE_URL}/Incidents`)\n      .then((res) => {\n        for (const dataObj of res.data) {\n          qntd.push(parseInt(dataObj.category.length));\n          console.log(dataObj.category.length)\n          legenda.push(dataObj.category);\n          console.log(dataObj.category)\n          if(dataObj.category===\"CONTROLLER\"){\n            controladorFuncionando = dataObj.category.length\n            console.log('controlador quantidade', dataObj.category.length)\n          }\n          if(dataObj.category===\"ALERT\"){\n            const falhas = dataObj.category.length\n            console.log('CONTROLADOR EM FALHA', dataObj.category.length)\n          }\n          if(dataObj.category===\"ACCIDENT\"){\n            const inter = dataObj.category.length\n            console.log('INTERMIDENTE', dataObj.category.length)\n          }\n        }\n        setChartData({\n          labels: legenda, controladorFuncionando,\n          datasets: [\n            {\n              data: qntd, controladorFuncionando,\n              backgroundColor: [\"rgba(100, 192, 192, 0.6)\"],\n              borderWidth: 3,\n            },\n          ],\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    console.log(qntd, legenda);\n  };\n"]},"metadata":{},"sourceType":"module"}