{"ast":null,"code":"var _jsxFileName = \"/Users/carolaine.viana/Documents/react-leaflet-tutorial/src/Components/MyMap.js\";\nimport React, { Component, useEffect, useState } from \"react\";\nimport { Map, TileLayer, Popup, Marker } from \"react-leaflet\";\nimport green from \"../assets/leaf-green.png\";\nimport leafGreen from \"../assets/leaf-green.png\";\nimport leafRed from \"../assets/leaf-red.png\";\nimport leafOrange from \"../assets/leaf-orange.png\";\nimport leafShadow from \"../assets/leaf-shadow.png\";\nimport localizador from \"../assets/marcador.png\";\nimport semaforo from '../assets/semaforo.png';\nimport L from \"leaflet\";\nimport axios from \"axios\";\n\nfunction MyMap() {\n  const [center, setCenter] = useState({\n    lat: -20.30297,\n    lng: -40.303538\n  });\n  const [data, setData] = useState([]);\n  const [controlers, setControlers] = useState([]);\n  const [oi, setOi] = useState({\n    nome: '',\n    id: ''\n  });\n\n  const handleIncident = async () => {\n    axios.get(\"https://dev.atmansystems.com/attlas-public/api/Incidents\").then(res => {\n      // alert(\"ok\");\n      setData(res.data);\n    }).catch(error => {\n      alert(\"deu erro\");\n      console.log(error.response);\n    });\n  };\n\n  const handleControlers = async () => {\n    axios.get(\"https://dev.atmansystems.com/attlas-public/api/Controllers\").then(res => {\n      alert(\"ok\");\n      setControlers(res.data);\n    }).catch(error => {\n      alert(\"deu erro\");\n      console.log(error.response);\n    });\n  };\n\n  useEffect(() => {\n    handleIncident();\n    handleControlers();\n  }, []);\n  console.log(\"DADOS\", data);\n  const marcador = L.icon({\n    iconUrl: localizador,\n    // shadowUrl: leafShadow,\n    iconSize: [50, 50],\n    // size of the icon\n    shadowSize: [50, 64],\n    // size of the shadow\n    iconAnchor: [22, 94],\n    // point of the icon which will correspond to marker's location\n    shadowAnchor: [4, 62],\n    // the same for the shadow\n    popupAnchor: [-3, -76]\n  });\n  const controladores = L.icon({\n    iconUrl: semaforo,\n    // shadowUrl: leafShadow,\n    iconSize: [50, 50],\n    // size of the icon\n    shadowSize: [50, 64],\n    // size of the shadow\n    iconAnchor: [22, 94],\n    // point of the icon which will correspond to marker's location\n    shadowAnchor: [4, 62],\n    // the same for the shadow\n    popupAnchor: [-3, -76]\n  }); //   const teste = {lat: data[0].latitude, lng: data[0].longitude}\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Map, {\n    className: \"map\",\n    center: center,\n    zoom: 100 // style={{ height: 500, width: \"100%\" }}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, data.length > 0 && data.map(p => {\n    const positionMark = {\n      lat: p.latitude,\n      lng: p.longitude\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }\n    }, \"Controlador: \"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }\n    }, \"ID: \", p.id), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 21\n      }\n    }, \"LAT: \", p.latitude), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 21\n      }\n    }, \"LONG: \", p.longitude)), /*#__PURE__*/React.createElement(Marker, {\n      position: positionMark,\n      icon: marcador,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Popup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 19\n      }\n    }, \"INCIDIDENTES\")));\n  }), controlers.length > 0 && controlers.map(p => {\n    const positionMark = {\n      lat: p.latitude,\n      lng: p.longitude\n    };\n    const nome = p.name;\n    const id = p.id;\n    const lat = p.latitude;\n    const long = p.longitude;\n    const text = p.description;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Marker, {\n      position: positionMark,\n      icon: controladores,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Popup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 19\n      }\n    }, \"CONTROLADORES\"), /*#__PURE__*/React.createElement(Popup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 19\n      }\n    }, \"ID: \", id)));\n  }), /*#__PURE__*/React.createElement(TileLayer, {\n    attribution: \"&copy <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\",\n    url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport default MyMap;","map":{"version":3,"sources":["/Users/carolaine.viana/Documents/react-leaflet-tutorial/src/Components/MyMap.js"],"names":["React","Component","useEffect","useState","Map","TileLayer","Popup","Marker","green","leafGreen","leafRed","leafOrange","leafShadow","localizador","semaforo","L","axios","MyMap","center","setCenter","lat","lng","data","setData","controlers","setControlers","oi","setOi","nome","id","handleIncident","get","then","res","catch","error","alert","console","log","response","handleControlers","marcador","icon","iconUrl","iconSize","shadowSize","iconAnchor","shadowAnchor","popupAnchor","controladores","length","map","p","positionMark","latitude","longitude","name","long","text","description"],"mappings":"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","sourcesContent":["import React, { Component, useEffect, useState } from \"react\";\nimport { Map, TileLayer, Popup, Marker } from \"react-leaflet\";\nimport green from \"../assets/leaf-green.png\";\nimport leafGreen from \"../assets/leaf-green.png\";\nimport leafRed from \"../assets/leaf-red.png\";\nimport leafOrange from \"../assets/leaf-orange.png\";\nimport leafShadow from \"../assets/leaf-shadow.png\";\nimport localizador from \"../assets/marcador.png\";\nimport semaforo from '../assets/semaforo.png';\nimport L from \"leaflet\";\nimport axios from \"axios\";\n\nfunction MyMap() {\n  const [center, setCenter] = useState({ lat: -20.30297, lng: -40.303538 });\n  const [data, setData] = useState([]);\n  const [controlers, setControlers] = useState([])\n  const [oi, setOi] = useState({nome: '', id: ''})\n\n  const handleIncident = async () => {\n    axios\n      .get(\"https://dev.atmansystems.com/attlas-public/api/Incidents\")\n      .then((res) => {\n        // alert(\"ok\");\n        setData(res.data);\n      })\n      .catch((error) => {\n        alert(\"deu erro\");\n        console.log(error.response);\n      });\n  }\n  \n  const handleControlers = async () => {\n    axios\n    .get(\"https://dev.atmansystems.com/attlas-public/api/Controllers\")\n    .then((res) => {\n      alert(\"ok\");\n      setControlers(res.data);\n    })\n    .catch((error) => {\n      alert(\"deu erro\");\n      console.log(error.response);\n    });\n  }\n\n  useEffect(() => {\n    handleIncident();\n    handleControlers();\n  }, []);\n\n  console.log(\"DADOS\", data);\n\n  const marcador = L.icon({\n    iconUrl: localizador,\n    // shadowUrl: leafShadow,\n    iconSize: [50, 50], // size of the icon\n    shadowSize: [50, 64], // size of the shadow\n    iconAnchor: [22, 94], // point of the icon which will correspond to marker's location\n    shadowAnchor: [4, 62], // the same for the shadow\n    popupAnchor: [-3, -76],\n  })\n  \n  const controladores = L.icon({\n    iconUrl: semaforo,\n    // shadowUrl: leafShadow,\n    iconSize: [50, 50], // size of the icon\n    shadowSize: [50, 64], // size of the shadow\n    iconAnchor: [22, 94], // point of the icon which will correspond to marker's location\n    shadowAnchor: [4, 62], // the same for the shadow\n    popupAnchor: [-3, -76],\n  })\n  \n  \n\n  //   const teste = {lat: data[0].latitude, lng: data[0].longitude}\n\n  return (\n    <div>\n      \n\n      <Map\n        className=\"map\"\n        center={center}\n        zoom={100}\n        // style={{ height: 500, width: \"100%\" }}\n      >\n        {data.length > 0 &&\n          data.map((p) => {\n            const positionMark = { lat: p.latitude, lng: p.longitude };\n            return (\n              <div>\n              <div className=\"box\">\n                    <p>Controlador: </p>\n                    <p>ID: {p.id}</p>\n                    <p>LAT: {p.latitude}</p>\n                    <p>LONG: {p.longitude}</p>\n              </div>\n                <Marker position={positionMark} icon={marcador}>\n                  <Popup>INCIDIDENTES</Popup>\n                </Marker>\n              </div>\n            );\n          })}\n          \n          {controlers.length > 0 &&\n          controlers.map((p) => {\n            const positionMark = { lat: p.latitude, lng: p.longitude };\n            const nome = p.name\n            const id = p.id\n            const lat = p.latitude\n            const long = p.longitude\n            const text = p.description\n            \n            return (\n              <div>\n                <Marker position={positionMark} icon={controladores}>\n                  <Popup>CONTROLADORES</Popup>\n                  <Popup>ID: {id}</Popup>\n                </Marker>\n              </div>\n            )\n          })}\n          \n    \n\n        <TileLayer\n          attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        />\n      </Map>\n    </div>\n  );\n}\n\nexport default MyMap;\n"]},"metadata":{},"sourceType":"module"}