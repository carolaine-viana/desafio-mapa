{"ast":null,"code":"var _jsxFileName = \"/Users/carolaine.viana/Documents/react-leaflet-tutorial/src/Components/MyMap.js\";\nimport React, { Component, useEffect, useState } from \"react\";\nimport { Map, TileLayer, Popup, Marker } from \"react-leaflet\";\nimport localizador from \"../assets/marcador.png\";\nimport semaforo from \"../assets/semaforo.png\";\nimport L from \"leaflet\";\nimport axios from \"axios\";\nimport Acidentes from \"../Pages/Acidentes\";\nimport Controlers from \"../Pages/Controlers\";\nimport Header from \"./Header\";\nimport { handleControlers, handleIncident } from \"../requests/user\";\nimport GraficosIncidentes from \"../Pages/GraficosIncidents\";\n\nfunction MyMap(props) {\n  const [center, setCenter] = useState({\n    lat: -20.30297,\n    lng: -40.303538\n  });\n  const [dataIncidents, setDataIncidents] = useState([]);\n  const [dataControlers, setDataControlers] = useState([]);\n  const [incidents, setIncidents] = useState([]);\n  const [controlers, setControlers] = useState([]);\n  const [graficos, setGraficos] = useState([]);\n  useEffect(() => {\n    handleIncident(setDataIncidents);\n    handleControlers(setDataControlers);\n  }, []); // console.log(\"DADOS\", data);\n\n  const marcador = L.icon({\n    iconUrl: localizador,\n    // shadowUrl: leafShadow,\n    iconSize: [50, 50],\n    // size of the icon\n    shadowSize: [50, 64],\n    // size of the shadow\n    iconAnchor: [22, 94],\n    // point of the icon which will correspond to marker's location\n    shadowAnchor: [4, 62],\n    // the same for the shadow\n    popupAnchor: [-3, -76]\n  });\n  const controladores = L.icon({\n    iconUrl: semaforo,\n    // shadowUrl: leafShadow,\n    iconSize: [50, 50],\n    // size of the icon\n    shadowSize: [50, 64],\n    // size of the shadow\n    iconAnchor: [22, 94],\n    // point of the icon which will correspond to marker's location\n    shadowAnchor: [4, 62],\n    // the same for the shadow\n    popupAnchor: [-3, -76]\n  }); //   const teste = {lat: data[0].latitude, lng: data[0].longitude}\n  // const clicou = (event) => {\n  //   // setTeste(event.target.value.name);\n  //   console.log(event.value)\n  //   // console.log(teste);\n  // }\n  // console.log(teste)\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Acidentes, {\n    incidents: incidents,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Controlers, {\n    controlers: controlers,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(GraficosIncidentes, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Map, {\n    className: \"map\",\n    center: center,\n    zoom: 100 // style={{ height: 500, width: \"100%\" }}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, dataIncidents.length > 0 && dataIncidents.map(p => {\n    const positionMark = {\n      lat: p.latitude,\n      lng: p.longitude\n    };\n    const qntd = dataIncidents.length * 100 / 100;\n    console.log(\"QUANTIDADE OCORRENCIAS\", qntd, \"%\");\n    console.log(p);\n    console.log('ARRAY AQUI', dataIncidents); //20 * 100 = 4000 / 100 = 20\n\n    const DatasIncidents = () => {\n      console.log(\"oi\");\n      setIncidents(p);\n      setGraficos(p); // const category = p.category\n\n      console.log(\"CATEGORIA\", p.category);\n    };\n\n    return /*#__PURE__*/React.createElement(Marker, {\n      position: positionMark,\n      icon: marcador,\n      onclick: DatasIncidents,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Popup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }, \"INCIDIDENTES\"), /*#__PURE__*/React.createElement(Popup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }\n    }, \"ID: \", p.id));\n  }), dataControlers.length > 0 && dataControlers.map(p => {\n    const positionMark = {\n      lat: p.latitude,\n      lng: p.longitude\n    };\n    const qntd = dataControlers.length;\n    console.log(\"QUANTIDADE CONTOLADORES\", qntd);\n\n    const DataControlers = () => {\n      setControlers(p);\n      console.log(\"oi\");\n    };\n\n    return /*#__PURE__*/React.createElement(Marker, {\n      position: positionMark,\n      icon: controladores,\n      onClick: DataControlers,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Popup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }\n    }, \"CONTROLADORES\"), /*#__PURE__*/React.createElement(Popup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }\n    }, \"ID: \", p.id));\n  }), /*#__PURE__*/React.createElement(TileLayer, {\n    attribution: \"&copy <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\",\n    url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport default MyMap;","map":{"version":3,"sources":["/Users/carolaine.viana/Documents/react-leaflet-tutorial/src/Components/MyMap.js"],"names":["React","Component","useEffect","useState","Map","TileLayer","Popup","Marker","localizador","semaforo","L","axios","Acidentes","Controlers","Header","handleControlers","handleIncident","GraficosIncidentes","MyMap","props","center","setCenter","lat","lng","dataIncidents","setDataIncidents","dataControlers","setDataControlers","incidents","setIncidents","controlers","setControlers","graficos","setGraficos","marcador","icon","iconUrl","iconSize","shadowSize","iconAnchor","shadowAnchor","popupAnchor","controladores","length","map","p","positionMark","latitude","longitude","qntd","console","log","DatasIncidents","category","id","DataControlers"],"mappings":"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","sourcesContent":["import React, { Component, useEffect, useState } from \"react\";\nimport { Map, TileLayer, Popup, Marker } from \"react-leaflet\";\nimport localizador from \"../assets/marcador.png\";\nimport semaforo from \"../assets/semaforo.png\";\nimport L from \"leaflet\";\nimport axios from \"axios\";\nimport Acidentes from \"../Pages/Acidentes\";\nimport Controlers from \"../Pages/Controlers\";\nimport Header from \"./Header\";\nimport { handleControlers, handleIncident } from \"../requests/user\";\nimport GraficosIncidentes from \"../Pages/GraficosIncidents\";\n\nfunction MyMap(props) {\n  const [center, setCenter] = useState({ lat: -20.30297, lng: -40.303538 });\n  const [dataIncidents, setDataIncidents] = useState([]);\n  const [dataControlers, setDataControlers] = useState([]);\n  const [incidents, setIncidents] = useState([]);\n  const [controlers, setControlers] = useState([]);\n  const [graficos, setGraficos] = useState([]);\n\n  useEffect(() => {\n    handleIncident(setDataIncidents);\n    handleControlers(setDataControlers);\n  }, []);\n\n  // console.log(\"DADOS\", data);\n\n  const marcador = L.icon({\n    iconUrl: localizador,\n    // shadowUrl: leafShadow,\n    iconSize: [50, 50], // size of the icon\n    shadowSize: [50, 64], // size of the shadow\n    iconAnchor: [22, 94], // point of the icon which will correspond to marker's location\n    shadowAnchor: [4, 62], // the same for the shadow\n    popupAnchor: [-3, -76],\n  });\n\n  const controladores = L.icon({\n    iconUrl: semaforo,\n    // shadowUrl: leafShadow,\n    iconSize: [50, 50], // size of the icon\n    shadowSize: [50, 64], // size of the shadow\n    iconAnchor: [22, 94], // point of the icon which will correspond to marker's location\n    shadowAnchor: [4, 62], // the same for the shadow\n    popupAnchor: [-3, -76],\n  });\n\n  //   const teste = {lat: data[0].latitude, lng: data[0].longitude}\n\n  // const clicou = (event) => {\n  //   // setTeste(event.target.value.name);\n  //   console.log(event.value)\n  //   // console.log(teste);\n  // }\n  // console.log(teste)\n\n  return (\n    <>\n      <Acidentes incidents={incidents} />\n\n      <Controlers controlers={controlers} />\n\n      <GraficosIncidentes />\n\n      <Map\n        className=\"map\"\n        center={center}\n        zoom={100}\n        // style={{ height: 500, width: \"100%\" }}\n      >\n      \n        {/********************** OCORRENCIAS *{/**********************/}\n\n        {dataIncidents.length > 0 &&\n          dataIncidents.map((p) => {\n            const positionMark = { lat: p.latitude, lng: p.longitude };\n            const qntd = (dataIncidents.length * 100) / 100;\n            console.log(\"QUANTIDADE OCORRENCIAS\", qntd, \"%\");\n            console.log(p);\n            console.log('ARRAY AQUI', dataIncidents)\n            //20 * 100 = 4000 / 100 = 20\n\n            const DatasIncidents = () => {\n              console.log(\"oi\");\n              setIncidents(p);\n              setGraficos(p);\n              // const category = p.category\n              console.log(\"CATEGORIA\", p.category);\n            };\n\n            return (\n              <Marker\n                position={positionMark}\n                icon={marcador}\n                onclick={DatasIncidents}\n              >\n                <Popup>INCIDIDENTES</Popup>\n                <Popup>ID: {p.id}</Popup>\n              </Marker>\n            );\n          })}\n\n        {/********************** controladores *{/**********************/}\n\n        {dataControlers.length > 0 &&\n          dataControlers.map((p) => {\n            const positionMark = { lat: p.latitude, lng: p.longitude };\n            const qntd = dataControlers.length;\n            console.log(\"QUANTIDADE CONTOLADORES\", qntd);\n\n            const DataControlers = () => {\n              setControlers(p);\n              console.log(\"oi\");\n            };\n\n            return (\n              <Marker\n                position={positionMark}\n                icon={controladores}\n                onClick={DataControlers}\n              >\n                <Popup>CONTROLADORES</Popup>\n                <Popup>ID: {p.id}</Popup>\n              </Marker>\n            );\n          })}\n\n        <TileLayer\n          attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        />\n      </Map>\n    </>\n  );\n}\n\nexport default MyMap;\n"]},"metadata":{},"sourceType":"module"}