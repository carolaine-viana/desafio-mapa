{"ast":null,"code":"import axios from \"axios\";\nexport const handleIncident = async (setDataIncidents, setGraficos) => {\n  axios.get(\"https://dev.atmansystems.com/attlas-public/api/Incidents\").then(res => {\n    // alert(\"ok\");\n    setDataIncidents(res.data);\n    setGraficos(res.data);\n  }).catch(error => {\n    alert(\"deu erro\");\n    console.log(error.response);\n  });\n};\nexport const handleControlers = async setDataControlers => {\n  axios.get(\"https://dev.atmansystems.com/attlas-public/api/Controllers\").then(res => {\n    alert(\"ok\");\n    setDataControlers(res.data);\n  }).catch(error => {\n    alert(\"deu erro\");\n    console.log(error.response);\n  });\n};\nexport const chart = setChartData => {\n  let qntd = [];\n  let legenda = [];\n  axios.get(\"https://dev.atmansystems.com/attlas-public/api/Incidents\").then(res => {\n    // console.log(\"OBJETIVO\", res.data);\n    for (const dataObj of res.data) {\n      qntd.push(parseInt(dataObj.category.length));\n      legenda.push(dataObj.category);\n      console.log(\"tem alguma coisa aqui\", qntd);\n    }\n\n    setChartData({\n      labels: legenda,\n      datasets: [{\n        data: qntd,\n        backgroundColor: [\"rgba(100, 192, 192, 0.6)\"],\n        borderWidth: 3\n      }]\n    });\n  }).catch(err => {\n    console.log(err);\n  });\n  console.log(qntd, legenda);\n};","map":{"version":3,"sources":["/Users/carolaine.viana/Documents/react-leaflet-tutorial/src/requests/user.js"],"names":["axios","handleIncident","setDataIncidents","setGraficos","get","then","res","data","catch","error","alert","console","log","response","handleControlers","setDataControlers","chart","setChartData","qntd","legenda","dataObj","push","parseInt","category","length","labels","datasets","backgroundColor","borderWidth","err"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,cAAc,GAAG,OAAOC,gBAAP,EAAyBC,WAAzB,KAAyC;AACnEH,EAAAA,KAAK,CACFI,GADH,CACO,0DADP,EAEGC,IAFH,CAESC,GAAD,IAAS;AACb;AACAJ,IAAAA,gBAAgB,CAACI,GAAG,CAACC,IAAL,CAAhB;AACAJ,IAAAA,WAAW,CAACG,GAAG,CAACC,IAAL,CAAX;AACD,GANH,EAOGC,KAPH,CAOUC,KAAD,IAAW;AAChBC,IAAAA,KAAK,CAAC,UAAD,CAAL;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,KAAK,CAACI,QAAlB;AACD,GAVH;AAWD,CAZI;AAcL,OAAO,MAAMC,gBAAgB,GAAG,MAAOC,iBAAP,IAA6B;AAC3Df,EAAAA,KAAK,CACFI,GADH,CACO,4DADP,EAEGC,IAFH,CAESC,GAAD,IAAS;AACbI,IAAAA,KAAK,CAAC,IAAD,CAAL;AACAK,IAAAA,iBAAiB,CAACT,GAAG,CAACC,IAAL,CAAjB;AACD,GALH,EAMGC,KANH,CAMUC,KAAD,IAAW;AAChBC,IAAAA,KAAK,CAAC,UAAD,CAAL;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,KAAK,CAACI,QAAlB;AACD,GATH;AAUD,CAXM;AAaP,OAAO,MAAMG,KAAK,GAAIC,YAAD,IAAkB;AACrC,MAAIC,IAAI,GAAG,EAAX;AACA,MAAIC,OAAO,GAAG,EAAd;AACAnB,EAAAA,KAAK,CACFI,GADH,CACO,0DADP,EAEGC,IAFH,CAESC,GAAD,IAAS;AACb;AACA,SAAK,MAAMc,OAAX,IAAsBd,GAAG,CAACC,IAA1B,EAAgC;AAC9BW,MAAAA,IAAI,CAACG,IAAL,CAAUC,QAAQ,CAACF,OAAO,CAACG,QAAR,CAAiBC,MAAlB,CAAlB;AACAL,MAAAA,OAAO,CAACE,IAAR,CAAaD,OAAO,CAACG,QAArB;AACAZ,MAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqCM,IAArC;AACD;;AACDD,IAAAA,YAAY,CAAC;AACXQ,MAAAA,MAAM,EAAEN,OADG;AAEXO,MAAAA,QAAQ,EAAE,CACR;AACEnB,QAAAA,IAAI,EAAEW,IADR;AAEES,QAAAA,eAAe,EAAE,CAAC,0BAAD,CAFnB;AAGEC,QAAAA,WAAW,EAAE;AAHf,OADQ;AAFC,KAAD,CAAZ;AAUD,GAnBH,EAoBGpB,KApBH,CAoBUqB,GAAD,IAAS;AACdlB,IAAAA,OAAO,CAACC,GAAR,CAAYiB,GAAZ;AACD,GAtBH;AAuBAlB,EAAAA,OAAO,CAACC,GAAR,CAAYM,IAAZ,EAAkBC,OAAlB;AACD,CA3BM","sourcesContent":["import axios from \"axios\"\n\nexport const handleIncident = async (setDataIncidents, setGraficos) => {\n    axios\n      .get(\"https://dev.atmansystems.com/attlas-public/api/Incidents\")\n      .then((res) => {\n        // alert(\"ok\");\n        setDataIncidents(res.data);\n        setGraficos(res.data);\n      })\n      .catch((error) => {\n        alert(\"deu erro\");\n        console.log(error.response);\n      })\n  }\n  \n  export const handleControlers = async (setDataControlers) => {\n    axios\n      .get(\"https://dev.atmansystems.com/attlas-public/api/Controllers\")\n      .then((res) => {\n        alert(\"ok\");\n        setDataControlers(res.data);\n      })\n      .catch((error) => {\n        alert(\"deu erro\");\n        console.log(error.response);\n      });\n  };\n  \n  export const chart = (setChartData) => {\n    let qntd = [];\n    let legenda = [];\n    axios\n      .get(\"https://dev.atmansystems.com/attlas-public/api/Incidents\")\n      .then((res) => {\n        // console.log(\"OBJETIVO\", res.data);\n        for (const dataObj of res.data) {\n          qntd.push(parseInt(dataObj.category.length));\n          legenda.push(dataObj.category);\n          console.log(\"tem alguma coisa aqui\", qntd);\n        }\n        setChartData({\n          labels: legenda,\n          datasets: [\n            {\n              data: qntd,\n              backgroundColor: [\"rgba(100, 192, 192, 0.6)\"],\n              borderWidth: 3,\n            },\n          ],\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    console.log(qntd, legenda);\n  };\n"]},"metadata":{},"sourceType":"module"}